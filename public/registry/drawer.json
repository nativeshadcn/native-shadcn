{
  "name": "drawer",
  "type": "ui",
  "description": "Side drawer for navigation",
  "dependencies": [
    "clsx"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "ui/drawer.tsx",
      "content": "import * as React from 'react';\nimport { View, Modal, Pressable, Animated, Text } from 'react-native';\nimport { cn } from '@/lib/utils';\n\ntype DrawerContextValue = {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n};\n\nconst DrawerContext = React.createContext<DrawerContextValue | undefined>(undefined);\n\nfunction useDrawer() {\n  const context = React.useContext(DrawerContext);\n  if (!context) {\n    throw new Error('Drawer components must be used within <Drawer>');\n  }\n  return context;\n}\n\ninterface DrawerProps {\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  children?: React.ReactNode;\n}\n\nconst Drawer = ({ open = false, onOpenChange, children }: DrawerProps) => {\n  const [internalOpen, setInternalOpen] = React.useState(open);\n\n  const isControlled = open !== undefined && onOpenChange !== undefined;\n  const currentOpen = isControlled ? open : internalOpen;\n  const handleOpenChange = isControlled ? onOpenChange : setInternalOpen;\n\n  const contextValue = React.useMemo(\n    () => ({\n      open: currentOpen,\n      onOpenChange: handleOpenChange,\n    }),\n    [currentOpen, handleOpenChange]\n  );\n\n  return (\n    <DrawerContext.Provider value={contextValue}>\n      <Modal\n        visible={currentOpen}\n        transparent\n        animationType=\"none\"\n        onRequestClose={() => handleOpenChange(false)}\n      >\n        {children}\n      </Modal>\n    </DrawerContext.Provider>\n  );\n};\n\nconst DrawerTrigger = React.forwardRef<\n  React.ElementRef<typeof Pressable>,\n  React.ComponentPropsWithoutRef<typeof Pressable>\n>(({ onPress, ...props }, ref) => {\n  const { onOpenChange } = useDrawer();\n\n  return (\n    <Pressable\n      ref={ref}\n      onPress={(e) => {\n        onOpenChange(true);\n        onPress?.(e);\n      }}\n      {...props}\n    />\n  );\n});\nDrawerTrigger.displayName = 'DrawerTrigger';\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof Pressable>,\n  React.ComponentPropsWithoutRef<typeof Pressable>\n>(({ className, onPress, ...props }, ref) => {\n  const { onOpenChange } = useDrawer();\n\n  return (\n    <Pressable\n      ref={ref}\n      className={cn('flex-1 bg-black/50', className)}\n      onPress={(e) => {\n        onOpenChange(false);\n        onPress?.(e);\n      }}\n      {...props}\n    />\n  );\n});\nDrawerOverlay.displayName = 'DrawerOverlay';\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof View>,\n  React.ComponentPropsWithoutRef<typeof View> & { side?: 'left' | 'right' }\n>(({ className, children, side = 'left', ...props }, ref) => {\n  const [slideAnim] = React.useState(new Animated.Value(0));\n\n  React.useEffect(() => {\n    Animated.timing(slideAnim, {\n      toValue: 1,\n      duration: 300,\n      useNativeDriver: true,\n    }).start();\n  }, [slideAnim]);\n\n  return (\n    <View className=\"flex-1 flex-row\">\n      <DrawerOverlay />\n      <Animated.View\n        ref={ref}\n        style={{\n          transform: [\n            {\n              translateX: slideAnim.interpolate({\n                inputRange: [0, 1],\n                outputRange: side === 'left' ? [-300, 0] : [300, 0],\n              }),\n            },\n          ],\n        }}\n        className={cn(\n          'h-full w-[80%] max-w-[400px] bg-background p-6 shadow-lg',\n          side === 'right' && 'items-end',\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </Animated.View>\n    </View>\n  );\n});\nDrawerContent.displayName = 'DrawerContent';\n\nconst DrawerHeader = React.forwardRef<\n  React.ElementRef<typeof View>,\n  React.ComponentPropsWithoutRef<typeof View>\n>(({ className, ...props }, ref) => (\n  <View\n    ref={ref}\n    className={cn('flex flex-col space-y-2 mb-4', className)}\n    {...props}\n  />\n));\nDrawerHeader.displayName = 'DrawerHeader';\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof Text>,\n  React.ComponentPropsWithoutRef<typeof Text>\n>(({ className, ...props }, ref) => (\n  <Text\n    ref={ref}\n    className={cn('text-lg font-semibold', className)}\n    {...props}\n  />\n));\nDrawerTitle.displayName = 'DrawerTitle';\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof Text>,\n  React.ComponentPropsWithoutRef<typeof Text>\n>(({ className, ...props }, ref) => (\n  <Text\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n));\nDrawerDescription.displayName = 'DrawerDescription';\n\nconst DrawerFooter = React.forwardRef<\n  React.ElementRef<typeof View>,\n  React.ComponentPropsWithoutRef<typeof View>\n>(({ className, ...props }, ref) => (\n  <View\n    ref={ref}\n    className={cn('flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-auto', className)}\n    {...props}\n  />\n));\nDrawerFooter.displayName = 'DrawerFooter';\n\nconst DrawerClose = React.forwardRef<\n  React.ElementRef<typeof Pressable>,\n  React.ComponentPropsWithoutRef<typeof Pressable>\n>(({ onPress, ...props }, ref) => {\n  const { onOpenChange } = useDrawer();\n\n  return (\n    <Pressable\n      ref={ref}\n      onPress={(e) => {\n        onOpenChange(false);\n        onPress?.(e);\n      }}\n      {...props}\n    />\n  );\n});\nDrawerClose.displayName = 'DrawerClose';\n\nexport {\n  Drawer,\n  DrawerTrigger,\n  DrawerOverlay,\n  DrawerContent,\n  DrawerHeader,\n  DrawerTitle,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerClose,\n};\n",
      "type": "registry:ui"
    }
  ]
}