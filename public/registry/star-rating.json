{
  "name": "star-rating",
  "type": "registry:ui",
  "description": "A star rating component",
  "dependencies": [
    "class-variance-authority"
  ],
  "devDependencies": [],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "ui/star-rating.tsx",
      "content": "import * as React from 'react';\nimport { View, Pressable, Text } from 'react-native';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\n\nconst starRatingVariants = cva('flex-row items-center', {\n  variants: {\n    size: {\n      sm: 'gap-0.5',\n      default: 'gap-1',\n      lg: 'gap-1.5',\n    },\n  },\n  defaultVariants: {\n    size: 'default',\n  },\n});\n\nexport interface StarRatingProps\n  extends React.ComponentPropsWithoutRef<typeof View>,\n    VariantProps<typeof starRatingVariants> {\n  rating: number;\n  maxRating?: number;\n  interactive?: boolean;\n  onRatingChange?: (rating: number) => void;\n  showValue?: boolean;\n  valuePosition?: 'left' | 'right';\n  renderStar?: (filled: boolean, index: number) => React.ReactNode;\n  allowHalf?: boolean;\n}\n\nconst StarRating = React.forwardRef<React.ElementRef<typeof View>, StarRatingProps>(\n  (\n    {\n      rating,\n      maxRating = 5,\n      interactive = false,\n      onRatingChange,\n      showValue = false,\n      valuePosition = 'right',\n      renderStar,\n      allowHalf = true,\n      size,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const [hoverRating, setHoverRating] = React.useState(0);\n    const displayRating = interactive && hoverRating > 0 ? hoverRating : rating;\n\n    const handlePress = (starIndex: number) => {\n      if (interactive && onRatingChange) {\n        onRatingChange(starIndex);\n      }\n    };\n\n    const starSize = size === 'sm' ? 16 : size === 'lg' ? 24 : 20;\n\n    const defaultStarRender = (index: number) => {\n      const starPosition = index + 1;\n      const difference = displayRating - starPosition;\n      const isHalf = allowHalf && difference > -1 && difference < 0;\n      const isFull = difference >= 0;\n\n      const StarComponent = interactive ? Pressable : View;\n\n      return (\n        <StarComponent\n          key={index}\n          onPress={() => handlePress(starPosition)}\n          disabled={!interactive}\n        >\n          {/* Full Star */}\n          {isFull && (\n            <Text style={{ fontSize: starSize, lineHeight: starSize + 4 }}>★</Text>\n          )}\n          {/* Half Star */}\n          {isHalf && (\n            <Text style={{ fontSize: starSize, lineHeight: starSize + 4 }}>⯨</Text>\n          )}\n          {/* Empty Star */}\n          {!isFull && !isHalf && (\n            <Text\n              style={{ fontSize: starSize, lineHeight: starSize + 4 }}\n              className=\"text-muted\"\n            >\n              ☆\n            </Text>\n          )}\n        </StarComponent>\n      );\n    };\n\n    return (\n      <View ref={ref} className={cn(starRatingVariants({ size, className }))} {...props}>\n        {showValue && valuePosition === 'left' && (\n          <Text className=\"text-sm font-medium text-foreground mr-2\">\n            {displayRating.toFixed(1)}\n          </Text>\n        )}\n\n        <View className=\"flex-row\">\n          {Array.from({ length: maxRating }).map((_, index) =>\n            renderStar ? renderStar(displayRating >= index + 1, index) : defaultStarRender(index)\n          )}\n        </View>\n\n        {showValue && valuePosition === 'right' && (\n          <Text className=\"text-sm font-medium text-foreground ml-2\">\n            {displayRating.toFixed(1)}\n          </Text>\n        )}\n      </View>\n    );\n  }\n);\n\nStarRating.displayName = 'StarRating';\n\n// Interactive Star Rating Input\nexport interface StarRatingInputProps extends Omit<StarRatingProps, 'interactive'> {\n  value: number;\n  onValueChange: (value: number) => void;\n}\n\nconst StarRatingInput = React.forwardRef<React.ElementRef<typeof View>, StarRatingInputProps>(\n  ({ value, onValueChange, ...props }, ref) => {\n    return (\n      <StarRating\n        ref={ref}\n        rating={value}\n        interactive\n        onRatingChange={onValueChange}\n        {...props}\n      />\n    );\n  }\n);\n\nStarRatingInput.displayName = 'StarRatingInput';\n\nexport { StarRating, StarRatingInput };\n",
      "type": "registry:ui"
    }
  ]
}