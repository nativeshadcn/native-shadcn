{
  "name": "accordion",
  "type": "registry:ui",
  "description": "An accordion component for collapsible content",
  "dependencies": [],
  "devDependencies": [],
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "ui/accordion.tsx",
      "content": "import * as React from 'react';\nimport { View, Pressable, Text } from 'react-native';\nimport { cn } from '@/lib/utils';\n\ninterface AccordionItemProps {\n  value: string;\n  children: React.ReactNode;\n}\n\ninterface AccordionContextValue {\n  openItems: string[];\n  toggleItem: (value: string) => void;\n  type: 'single' | 'multiple';\n}\n\nconst AccordionContext = React.createContext<AccordionContextValue | undefined>(\n  undefined\n);\n\ninterface AccordionProps extends React.ComponentPropsWithoutRef<typeof View> {\n  type?: 'single' | 'multiple';\n  defaultValue?: string | string[];\n}\n\nconst Accordion = React.forwardRef<React.ElementRef<typeof View>, AccordionProps>(\n  ({ type = 'single', defaultValue, ...props }, ref) => {\n    const [openItems, setOpenItems] = React.useState<string[]>(\n      Array.isArray(defaultValue)\n        ? defaultValue\n        : defaultValue\n        ? [defaultValue]\n        : []\n    );\n\n    const toggleItem = React.useCallback(\n      (value: string) => {\n        setOpenItems((prev) => {\n          if (type === 'single') {\n            return prev.includes(value) ? [] : [value];\n          } else {\n            return prev.includes(value)\n              ? prev.filter((item) => item !== value)\n              : [...prev, value];\n          }\n        });\n      },\n      [type]\n    );\n\n    return (\n      <AccordionContext.Provider value={{ openItems, toggleItem, type }}>\n        <View ref={ref} {...props} />\n      </AccordionContext.Provider>\n    );\n  }\n);\nAccordion.displayName = 'Accordion';\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof View>,\n  AccordionItemProps\n>(({ className, value, children, ...props }, ref) => {\n  return (\n    <View\n      ref={ref}\n      className={cn('border-b border-border', className)}\n      {...props}\n    >\n      {React.Children.map(children, (child) => {\n        if (React.isValidElement(child)) {\n          return React.cloneElement(child, { value } as any);\n        }\n        return child;\n      })}\n    </View>\n  );\n});\nAccordionItem.displayName = 'AccordionItem';\n\ninterface AccordionTriggerProps\n  extends React.ComponentPropsWithoutRef<typeof Pressable> {\n  value?: string;\n}\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof Pressable>,\n  AccordionTriggerProps\n>(({ className, value, children, ...props }, ref) => {\n  const context = React.useContext(AccordionContext);\n  if (!context) throw new Error('AccordionTrigger must be used within Accordion');\n\n  const isOpen = value ? context.openItems.includes(value) : false;\n\n  return (\n    <Pressable\n      ref={ref}\n      className={cn('flex flex-row items-center justify-between py-4', className)}\n      onPress={() => value && context.toggleItem(value)}\n      {...props}\n    >\n      {typeof children === 'string' ? (\n        <Text className=\"text-sm font-medium\">{children}</Text>\n      ) : (\n        children\n      )}\n      <Text className=\"text-muted-foreground\">{isOpen ? '▲' : '▼'}</Text>\n    </Pressable>\n  );\n});\nAccordionTrigger.displayName = 'AccordionTrigger';\n\ninterface AccordionContentProps\n  extends React.ComponentPropsWithoutRef<typeof View> {\n  value?: string;\n}\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof View>,\n  AccordionContentProps\n>(({ className, value, ...props }, ref) => {\n  const context = React.useContext(AccordionContext);\n  if (!context) throw new Error('AccordionContent must be used within Accordion');\n\n  const isOpen = value ? context.openItems.includes(value) : false;\n\n  if (!isOpen) return null;\n\n  return (\n    <View\n      ref={ref}\n      className={cn('pb-4 pt-0', className)}\n      {...props}\n    />\n  );\n});\nAccordionContent.displayName = 'AccordionContent';\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent };\n",
      "type": "registry:ui"
    }
  ]
}