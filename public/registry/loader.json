{
  "name": "loader",
  "type": "ui",
  "description": "Animated loader with multiple variants (dots, spinner, pulse)",
  "dependencies": [
    "class-variance-authority",
    "clsx"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "ui/loader.tsx",
      "content": "import * as React from 'react';\nimport { View, Text, Animated, Easing } from 'react-native';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\n\nconst loaderVariants = cva('items-center justify-center', {\n  variants: {\n    variant: {\n      default: 'flex-1',\n      inline: 'py-4',\n      overlay: 'absolute inset-0 bg-background/80',\n    },\n    size: {\n      sm: '',\n      default: '',\n      lg: '',\n    },\n  },\n  defaultVariants: {\n    variant: 'default',\n    size: 'default',\n  },\n});\n\nexport interface LoaderProps\n  extends React.ComponentPropsWithoutRef<typeof View>,\n    VariantProps<typeof loaderVariants> {\n  type?: 'dots' | 'spinner' | 'pulse';\n  message?: string;\n}\n\nconst Loader = React.forwardRef<React.ElementRef<typeof View>, LoaderProps>(\n  ({ type = 'dots', message, variant, size, className, ...props }, ref) => {\n    return (\n      <View ref={ref} className={cn(loaderVariants({ variant, size, className }))} {...props}>\n        {type === 'dots' && <LoaderDots size={size} />}\n        {type === 'spinner' && <LoaderSpinner size={size} />}\n        {type === 'pulse' && <LoaderPulse size={size} />}\n\n        {message && (\n          <Text className=\"mt-6 text-sm font-medium text-muted-foreground\">{message}</Text>\n        )}\n      </View>\n    );\n  }\n);\n\nLoader.displayName = 'Loader';\n\n// Dots Loader (Wise-style)\ninterface LoaderDotsProps {\n  size?: 'sm' | 'default' | 'lg' | null;\n}\n\nconst LoaderDots: React.FC<LoaderDotsProps> = ({ size }) => {\n  const dot1 = React.useRef(new Animated.Value(0)).current;\n  const dot2 = React.useRef(new Animated.Value(0)).current;\n  const dot3 = React.useRef(new Animated.Value(0)).current;\n\n  React.useEffect(() => {\n    const createAnimation = (animValue: Animated.Value, delay: number) => {\n      return Animated.loop(\n        Animated.sequence([\n          Animated.delay(delay),\n          Animated.timing(animValue, {\n            toValue: 1,\n            duration: 400,\n            easing: Easing.inOut(Easing.ease),\n            useNativeDriver: true,\n          }),\n          Animated.timing(animValue, {\n            toValue: 0,\n            duration: 400,\n            easing: Easing.inOut(Easing.ease),\n            useNativeDriver: true,\n          }),\n        ])\n      );\n    };\n\n    const anim1 = createAnimation(dot1, 0);\n    const anim2 = createAnimation(dot2, 150);\n    const anim3 = createAnimation(dot3, 300);\n\n    anim1.start();\n    anim2.start();\n    anim3.start();\n\n    return () => {\n      anim1.stop();\n      anim2.stop();\n      anim3.stop();\n    };\n  }, []);\n\n  const dotSize = size === 'sm' ? 6 : size === 'lg' ? 16 : 12;\n  const spacing = size === 'sm' ? 4 : size === 'lg' ? 12 : 8;\n\n  const renderDot = (animatedValue: Animated.Value) => (\n    <Animated.View\n      style={{\n        width: dotSize,\n        height: dotSize,\n        borderRadius: dotSize / 2,\n        opacity: animatedValue.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0.3, 1],\n        }),\n        transform: [\n          {\n            scale: animatedValue.interpolate({\n              inputRange: [0, 1],\n              outputRange: [0.8, 1.2],\n            }),\n          },\n        ],\n      }}\n      className=\"bg-primary\"\n    />\n  );\n\n  return (\n    <View style={{ flexDirection: 'row', alignItems: 'center', gap: spacing }}>\n      {renderDot(dot1)}\n      {renderDot(dot2)}\n      {renderDot(dot3)}\n    </View>\n  );\n};\n\n// Spinner Loader\nconst LoaderSpinner: React.FC<LoaderDotsProps> = ({ size }) => {\n  const spinValue = React.useRef(new Animated.Value(0)).current;\n\n  React.useEffect(() => {\n    const animation = Animated.loop(\n      Animated.timing(spinValue, {\n        toValue: 1,\n        duration: 1000,\n        easing: Easing.linear,\n        useNativeDriver: true,\n      })\n    );\n\n    animation.start();\n\n    return () => {\n      animation.stop();\n    };\n  }, []);\n\n  const spinnerSize = size === 'sm' ? 20 : size === 'lg' ? 48 : 32;\n\n  const spin = spinValue.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['0deg', '360deg'],\n  });\n\n  return (\n    <Animated.View\n      style={{\n        width: spinnerSize,\n        height: spinnerSize,\n        borderRadius: spinnerSize / 2,\n        borderWidth: 3,\n        borderTopColor: 'transparent',\n        transform: [{ rotate: spin }],\n      }}\n      className=\"border-primary\"\n    />\n  );\n};\n\n// Pulse Loader\nconst LoaderPulse: React.FC<LoaderDotsProps> = ({ size }) => {\n  const pulseValue = React.useRef(new Animated.Value(0)).current;\n\n  React.useEffect(() => {\n    const animation = Animated.loop(\n      Animated.sequence([\n        Animated.timing(pulseValue, {\n          toValue: 1,\n          duration: 800,\n          easing: Easing.inOut(Easing.ease),\n          useNativeDriver: true,\n        }),\n        Animated.timing(pulseValue, {\n          toValue: 0,\n          duration: 800,\n          easing: Easing.inOut(Easing.ease),\n          useNativeDriver: true,\n        }),\n      ])\n    );\n\n    animation.start();\n\n    return () => {\n      animation.stop();\n    };\n  }, []);\n\n  const pulseSize = size === 'sm' ? 24 : size === 'lg' ? 64 : 40;\n\n  return (\n    <Animated.View\n      style={{\n        width: pulseSize,\n        height: pulseSize,\n        borderRadius: pulseSize / 2,\n        opacity: pulseValue.interpolate({\n          inputRange: [0, 1],\n          outputRange: [0.3, 1],\n        }),\n        transform: [\n          {\n            scale: pulseValue.interpolate({\n              inputRange: [0, 1],\n              outputRange: [0.8, 1.2],\n            }),\n          },\n        ],\n      }}\n      className=\"bg-primary\"\n    />\n  );\n};\n\nexport { Loader, LoaderDots, LoaderSpinner, LoaderPulse };\n",
      "type": "registry:ui"
    }
  ]
}