{
  "name": "avatar",
  "type": "ui",
  "description": "A user avatar with fallback support",
  "dependencies": [
    "class-variance-authority",
    "clsx"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "ui/avatar.tsx",
      "content": "import * as React from 'react';\nimport { View, Text, Image } from 'react-native';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\n\nconst avatarVariants = cva(\n  'relative flex shrink-0 overflow-hidden rounded-full',\n  {\n    variants: {\n      size: {\n        sm: 'h-8 w-8',\n        default: 'h-10 w-10',\n        lg: 'h-12 w-12',\n        xl: 'h-16 w-16',\n      },\n    },\n    defaultVariants: {\n      size: 'default',\n    },\n  }\n);\n\ninterface AvatarProps extends React.ComponentPropsWithoutRef<typeof View>,\n  VariantProps<typeof avatarVariants> {\n  source?: { uri: string } | number;\n  alt?: string;\n  fallback?: string;\n}\n\nconst Avatar = React.forwardRef<React.ElementRef<typeof View>, AvatarProps>(\n  ({ className, size, source, alt, fallback, ...props }, ref) => {\n    const [error, setError] = React.useState(false);\n\n    return (\n      <View\n        ref={ref}\n        className={cn(avatarVariants({ size, className }))}\n        {...props}\n      >\n        {source && !error ? (\n          <Image\n            source={source}\n            className=\"h-full w-full\"\n            onError={() => setError(true)}\n            accessibilityLabel={alt}\n          />\n        ) : (\n          <View className=\"flex h-full w-full items-center justify-center bg-muted\">\n            <Text className=\"text-sm font-medium text-muted-foreground\">\n              {fallback || alt?.charAt(0).toUpperCase() || '?'}\n            </Text>\n          </View>\n        )}\n      </View>\n    );\n  }\n);\n\nAvatar.displayName = 'Avatar';\n\nexport { Avatar };\n",
      "type": "registry:ui"
    }
  ]
}